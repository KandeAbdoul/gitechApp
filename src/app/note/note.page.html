<ion-header>
  <ion-toolbar>
    <ion-title>note</ion-title>
    <ion-buttons slot="start">
        <ion-menu-button ></ion-menu-button>
          <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
    <ion-header class="header">
      <ion-toolbar color="light">
        <ion-grid fixed>
          <ion-col size="6">
              <ion-item>
                  <ion-label>Année Scolaire</ion-label>
                  <ion-select (ionChange) = "updateDataViewBySemester($event)" [(ngModel)]='defaultYear'>
                    <ion-select-option *ngFor="let year of schoolYears"  > {{ year.libelleAn }} </ion-select-option>
                  </ion-select>
                </ion-item>
          </ion-col>
          <ion-col size="6">
              <ion-item>
                  <ion-label>Trimestre</ion-label>
                  <ion-select (ionChange) = "updateDataViewBySemester($event)" [(ngModel)]='defaultSemestre'>
                    <ion-select-option *ngFor="let semestre of semestres" [value]= "semestre" > {{ semestre.semestre }}</ion-select-option>
                  </ion-select>
                  </ion-item>
          </ion-col>
        </ion-grid>
      </ion-toolbar>
      </ion-header>
     <!-- <table>
       <thead>
         <th *ngFor="let ctrl of controles" > {{ ctrl.libelleNote }}</th>
         <th>Coef</th>
         <th> Moyenne CC </th>
         <th> Moyenne </th>
         <th> Mention </th>
         <th> Passable </th>
       </thead>
     </table> --> 
     <!-- <table mat-table [dataSource]="notes" class="mat-elevation-z8">

      
      <ng-container matColumnDef="libelleNote">
        <th mat-header-cell *matHeaderCellDef> Devoir 1 </th>
        <td mat-cell *matCellDef="let element"> 
          <span *ngIf="element.libelleNote == 'Devoir1'; then devoir1; else devoir2" >
           <ng-template #devoir1>
            <span>
              {{ element.note }}
            </span>
          </ng-template>
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="Devoir2">
        <th mat-header-cell *matHeaderCellDef> Devoir 2 </th>
        <td mat-cell *matCellDef="let element"> 
          <ng-template #devoir2>
            <span>
              {{ element.note }}
            </span>
          </ng-template>
        </td>
      </ng-container>

      <ng-container matColumnDef="examen">
          <th mat-header-cell *matHeaderCellDef> Examen </th>
          <td mat-cell *matCellDef="let element"> 
            <span *ngIf="element.libelleNote == 'Examen'" >
              {{element.note}}
            </span>
          </td>
        </ng-container>
    
      <ng-container matColumnDef="note">
        <th mat-header-cell *matHeaderCellDef> CC </th>
        <td mat-cell *matCellDef="let element"> {{element.note}} </td>
      </ng-container>

      <ng-container matColumnDef="pourcentage">
        <th mat-header-cell *matHeaderCellDef> % </th>
        <td mat-cell *matCellDef="let element" > {{element.pourcentage}} </td>
      </ng-container>

      <ng-container matColumnDef="mention">
        <th mat-header-cell *matHeaderCellDef>Mention</th>
        <td mat-cell *matCellDef="let element"> {{element.mention}} </td>
      </ng-container>

      <ng-container matColumnDef="appreciation">
        <th mat-header-cell *matHeaderCellDef>Appréciation</th>
        <td mat-cell *matCellDef="let element"> {{ element.appreciation }} </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table> -->

    <ion-grid fixed *ngFor="let cours of courses" >

      <ion-row class="cours-title"> <h6>{{ cours.cours }} </h6> </ion-row>
      <ion-row class="ion-padding-bottom">
        <strong>Professeur</strong>: {{ cours.professeur }}
      </ion-row>
      <ion-row  *ngFor="let note of notes">
        <ng-container *ngIf="cours.cours == note.idCours">
          <ion-col>
            {{ note.libelleNote }}
          </ion-col>
          <ion-col>
            <ion-row>
              <ion-row class="ion-padding-end"> {{ note.note}} <br> ({{ note.pourcentage }}%) </ion-row>
              <ion-row>{{ note.mention }} </ion-row>
            </ion-row>
          </ion-col>
        </ng-container>
      </ion-row>
      <ion-row class="cours-footer">
        <ion-row>
          Coef: {{ cours.coef}}
        </ion-row>
        <ion-row class="ion-padding-end">
          Moyenne CC : 15.75
        </ion-row>
        <ion-row class="ion-padding-end">
          Moyenne générale : 14.25
        </ion-row>
        <ion-row class="ion-padding-end">
          Rang : 12
        </ion-row>
      </ion-row>
    </ion-grid>
  
</ion-content>
